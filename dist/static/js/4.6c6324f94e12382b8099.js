webpackJsonp([4],{Jgdq:function(e,t){},tQke:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={data:function(){return{filterParams:{name:"",phone:null,status:null,create_time:[]}}},methods:{getData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];this.$api.userIndex(e).then(function(e){e.data=e.data.map(function(e){return e}),t&&t(e)})},deleteUser:function(e){var t=this;this.$api.userDelete({id:e}).then(function(e){t.$message.success("删除成功!"),t.$refs.strongList.updateData()})},changeStatus:function(e){this.$api.userUpdateStatus({id:e.id,status:e.status?1:0})},resetPwd:function(e){var t=this;this.$api.userResetPwd({id:e}).then(function(e){t.$message.success("重置成功,密码为123456")})},updateData:function(){this.$refs.strongList.updateData()}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("strong-list",{ref:"strongList",attrs:{filter:e.filterParams,getData:e.getData},scopedSlots:e._u([{key:"list",fn:function(t){return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data}},[a("el-table-column",{attrs:{type:"index",label:"编号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",width:"180",label:"邮箱"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roles",label:"所属角色"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.roles,function(t){return a("el-tag",{key:t.id,attrs:{size:"mini"}},[e._v(e._s(t.name))])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"organization.name",label:"所属机构"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status_name",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){e.changeStatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}}),e._v("  "+e._s(t.row.status?"正常":"拉黑")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"350",fixed:e.windowSize>768&&"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:"user/update",expression:"'user/update'"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){e.$router.push({name:"userEdit",params:{id:t.row.id}})}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:"user/delete",expression:"'user/delete'"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteUser(t.row.id)}}},[e._v("删除")]),e._v(" "),a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:"user/resetPwd",expression:"'user/resetPwd'"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){e.resetPwd(t.row.id)}}},[e._v("重置密码")]),e._v(" "),a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:"rbac/assignRole",expression:"'rbac/assignRole'"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){e.$router.push({name:"assignRole",params:{id:t.row.id}})}}},[e._v("分配角色")])]}}])})],1)}}])},[a("template",{slot:"operating"},[a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:"user/add",expression:"'user/add'"}],attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.$router.push({name:"userAdd"})}}},[e._v(" 添加")])],1),e._v(" "),a("template",{slot:"filter"},[a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{attrs:{placeholder:"请输入用户名称"},model:{value:e.filterParams.name,callback:function(t){e.$set(e.filterParams,"name",t)},expression:"filterParams.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.filterParams.phone,callback:function(t){e.$set(e.filterParams,"phone",t)},expression:"filterParams.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.filterParams.status,callback:function(t){e.$set(e.filterParams,"status",t)},expression:"filterParams.status"}},[a("el-option",{attrs:{label:"正常",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"拉黑",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建日期"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy/MM/dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filterParams.create_time,callback:function(t){e.$set(e.filterParams,"create_time",t)},expression:"filterParams.create_time"}})],1)],1)],2)],1)},staticRenderFns:[]};var l=a("VU/8")(r,s,!1,function(e){a("Jgdq")},"data-v-a0607d7a",null);t.default=l.exports}});
//# sourceMappingURL=4.6c6324f94e12382b8099.js.map