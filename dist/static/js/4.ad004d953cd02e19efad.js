webpackJsonp([4],{M5Re:function(t,e){},"l/NJ":function(t,e){},"opT+":function(t,e){},uSdP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("7+uW");var s={name:"img-lock",props:{status:{type:String,default:function(){return""}},isHideLine:{type:Boolean,default:function(){return!1}},values:{type:[String,Array],validator:function(t){return("string"==typeof t||"[object Array]"===Object.prototype.toString.call(t))&&9==t.length||(console.error("值必须为字符串或数组且长度为9"),!1)},default:function(){return"1W.,5M9b/"}},value:[String,Number]},data:function(){return{isLock:!1,isDown:!1,interval:null,el:"",activeNum:0,startX:0,startY:0,rangeId:"imgpwd"+parseInt(1e7*Math.random())}},methods:{handlePc:function(t){var e=t.type;if("mousedown"===e)this.isDown=!0,t.changedTouches=[t],this.handleTouch(t);else{if(!1===this.isDown)return!1;t.changedTouches=[t],"mousemove"===e?this.handleTouch(t):"mouseup"===e&&this.handleTouch(t)}},handleTouch:function(t){if(t.preventDefault(),this.isLock)return!1;var e=t.changedTouches?t.changedTouches[0]:t,a=this.startX,s=this.startY,i=null;switch(t.type){case"touchstart":case"mousedown":(i=this.getPathLi(t.path))&&(this.activeNum+=1,i.classList.add("active"),this.el=i,this.startX=e.pageX,this.startY=e.pageY,this.getCenterPosition(i),this.activePwd(i),this.updateData(i.getAttribute("value")));break;case"touchend":case"mouseup":this.el.children[1].style.height=0,this.isLock=!0,this.isDown=!1,this.$emit("success",this.value);break;case"touchmove":case"mousemove":if(!(i=document.elementFromPoint(e.pageX,e.pageY)?document.elementFromPoint(e.pageX,e.pageY).offsetParent:""))return!1;var n=this.getAngle(e.pageX-a,e.pageY-s),c=this.getDirection(n),r=this.el.children[1],o=0;switch(c){case 0:break;case 1:n>-90?n=Math.abs(-90+Math.abs(n)):n+=90,o+=s-e.pageY;break;case 2:o+=e.pageY-s,n+=90;break;case 3:n+=90,o+=a-e.pageX;break;case 4:o+=e.pageX-a,n+=90}r.style.transform="rotate("+n+"deg)",r.style.height=o+"px",r.setAttribute("data-h",o),r.style.top="-"+o+"px","li-wrapper"===i.className&&(this.activeNum+=1,this.getCenterPosition(i),this.setFinalPosition(this.el,i),this.el=i,this.activePwd(i),this.updateData(i.getAttribute("value")),i.classList.add("active"),this.activeNum==this.values.length&&(this.isLock=!0,this.$emit("success",this.value+i.getAttribute("value"))))}},getCenterPosition:function(t){var e=t.clientHeight/2;this.startX=t.offsetLeft+e,this.startY=t.offsetTop+e},getAngle:function(t,e){return 180*Math.atan2(e,t)/Math.PI},getDirection:function(t){var e=0;return t>=-135&&t<=-45?e=1:t>45&&t<135?e=2:t>=135&&t<=180||t>=-180&&t<-135?e=3:t>=-45&&t<=45&&(e=4),e},getPathLi:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=0,a=t.length;e<a&&t[e].id!=this.rangeId;e++)if("li-wrapper"==t[e].className)return t[e];return!1},setFinalPosition:function(t,e){var a=e.clientWidth/2,s=t.offsetLeft+a,i=t.offsetTop+a,n=e.offsetLeft+a,c=e.offsetTop+a,r=t.dataset.num,o=e.dataset.num,l=Math.abs(r-o),u=Math.abs(s-n),h=0;switch(l){case 1:i>c?(h=65.5,u=Math.abs(s-n)+25):h=s<n?90:i<c?247.5:270;break;case 2:u+=35,i>c?h=47:(s>n||s<n)&&i==c?(h=s<n?90:270,u=Math.abs(s-n)):h=228;break;case 3:u=Math.abs(i-c),h=i>c?0:180;break;case 4:u+=35,i<c&&s<n?h=135.5:i<c&&s>n?(h=228,u=Math.abs(i-c)+Math.abs(s-n)/2):i>c&&s<n?(h=48,u=Math.abs(i-c)+Math.abs(s-n)/2-2):h=312;break;case 5:u=Math.abs(i-c),i>c&&s<n?(h=28.5,u+=34):i<c&&s<n?(h=112.5,u=Math.abs(s-n)+35):i<c&&s>n?(h=208,u+=35):i>c&&s>n&&(h=294,u=Math.abs(s-n)+28);break;case 6:u=Math.abs(i-c),h=i>c?0:180;break;case 7:u=Math.abs(i-c)+35,h=i<c?157.5:331;break;case 8:u=Math.abs(i-c)+Math.abs(s-n)/2,i<c?h=135:(u-=2,h=312)}var d=t.children[1].style;d.transform="rotate("+h+"deg)",d.height=u+"px",d.top="-"+u+"px"},activePwd:function(t){t.children[1].style.height="0px",t.children[1].style.top="0px"},updateData:function(t){var e=this.value+t;this.$emit("input",e),this.$emit("change",t,e)},reset:function(){this.activeNum=0,this.isLock=!1,this.isDown=!1,this.$emit("input",""),this.$refs.liWrapper.forEach(function(t){t.children[1].style="",t.children[1].removeAttribute("data-h"),t.classList.remove("active")})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{class:["img-pwd","disabled"==t.status?"disabled":""],attrs:{id:t.rangeId}},t._l(t.values,function(e,s){return a("li",{key:e,attrs:{value:e},on:{mousedown:function(e){t.handlePc(e)},mousemove:function(e){t.handlePc(e)},mouseup:function(e){t.handlePc(e)},touchstart:function(e){t.handleTouch(e)},touchend:function(e){t.handleTouch(e)},touchmove:function(e){t.handleTouch(e)}}},[a("div",{ref:"liWrapper",refInFor:!0,staticClass:"li-wrapper",attrs:{value:e,"data-num":s+1}},[t._m(0,!0),t._v(" "),a("span",{class:["line",t.isHideLine?"hide-line":""]})])])}))},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dot"},[e("span")])}]};var n={name:"img-pwd-lock",data:function(){return{pwdValue1:"",pwdValue2:"",status:""}},methods:{reset:function(t){this.status="",t.reset()},handleChange:function(t,e){},handleSuccess:function(t){}},components:{imgPwd:a("VU/8")(s,i,!1,function(t){a("opT+")},"data-v-25b6eece",null).exports}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img-lock"},[a("el-col",{staticClass:"item"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("图案解锁")]),t._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.reset(t.$refs.imgpwd1)}}},[t._v("重置")])],1),t._v(" "),a("img-pwd",{ref:"imgpwd1",staticClass:"img-pwd",attrs:{values:"123456789",status:t.status},on:{change:t.handleChange,success:t.handleSuccess},model:{value:t.pwdValue1,callback:function(e){t.pwdValue1=e},expression:"pwdValue1"}}),t._v(" "),a("p",{staticClass:"text"},[t._v("\n        当前密码: "+t._s(t.pwdValue1)+"\n      ")]),t._v(" "),a("p",{staticClass:"text"},[t._v("\n        密码选项: 123456789\n      ")])],1)],1),t._v(" "),a("el-col",{staticClass:"item"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("图案解锁(隐藏连接线)")]),t._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.reset(t.$refs.imgpwd2)}}},[t._v("重置")])],1),t._v(" "),a("img-pwd",{ref:"imgpwd2",staticClass:"img-pwd",attrs:{values:"qwe123zxc",status:t.status,isHideLine:!0},on:{change:t.handleChange,success:t.handleSuccess},model:{value:t.pwdValue2,callback:function(e){t.pwdValue2=e},expression:"pwdValue2"}}),t._v(" "),a("p",{staticClass:"text"},[t._v("\n        当前密码: "+t._s(t.pwdValue2)+"\n      ")]),t._v(" "),a("p",{staticClass:"text"},[t._v("\n        密码选项: qwe123zxc\n      ")])],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(n,c,!1,function(t){a("M5Re"),a("l/NJ")},"data-v-57feb96c",null);e.default=r.exports}});
//# sourceMappingURL=4.ad004d953cd02e19efad.js.map