{"version":3,"sources":["webpack:///src/views/imgPwd/components/imgLock/Index.vue","webpack:///./src/views/imgPwd/components/imgLock/Index.vue?b701","webpack:///./src/views/imgPwd/components/imgLock/Index.vue","webpack:///src/views/imgPwd/Index.vue","webpack:///./src/views/imgPwd/Index.vue?2868","webpack:///./src/views/imgPwd/Index.vue"],"names":["Index","name","props","status","type","String","default","isHideLine","Boolean","values","Array","validator","val","Object","prototype","toString","call","length","console","error","value","Number","data","isLock","isDown","interval","el","activeNum","startX","startY","rangeId","parseInt","Math","random","methods","handlePc","event","this","changedTouches","handleTouch","preventDefault","touch","$el","getPathLi","path","classList","add","pageX","pageY","getCenterPosition","activePwd","updateData","getAttribute","children","style","height","$emit","document","elementFromPoint","offsetParent","angle","getAngle","direction","getDirection","$line","lineHeight","abs","transform","setAttribute","top","className","setFinalPosition","difference","clientHeight","offsetLeft","offsetTop","angx","angy","atan2","PI","result","arguments","undefined","i","len","id","$prevEl","$nextEl","half","clientWidth","pX","pY","nX","nY","pNum","dataset","num","nNum","absVal","lineH","newval","reset","$refs","liWrapper","forEach","removeAttribute","remove","imgLock_Index","render","_vm","_h","$createElement","_c","_self","class","attrs","_l","index","key","on","mousedown","$event","mousemove","mouseup","touchstart","touchend","touchmove","ref","refInFor","staticClass","data-num","_m","_v","staticRenderFns","imgPwd_Index","pwdValue1","pwdValue2","$ref","handleChange","newVal","handleSuccess","components","imgPwd","__webpack_require__","normalizeComponent","ssrContext","views_imgPwd_Index","slot","staticStyle","float","padding","click","imgpwd1","change","success","model","callback","$$v","expression","_s","imgpwd2","Index_Component","Index_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.ad004d953cd02e19efad.js","sourcesContent":["<template>\r\n  <ul :class=\"['img-pwd', status=='disabled'?'disabled':'']\" :id=\"rangeId\">\r\n    <li\r\n      v-for=\"(i, index) in values\"\r\n      :key=\"i\"\r\n      :value=\"i\"\r\n      @mousedown=\"handlePc($event)\"\r\n      @mousemove=\"handlePc($event)\"\r\n      @mouseup=\"handlePc($event)\"\r\n      @touchstart=\"handleTouch($event)\"\r\n      @touchend=\"handleTouch($event)\"\r\n      @touchmove=\"handleTouch($event)\"\r\n    >\r\n      <div class=\"li-wrapper\" ref=\"liWrapper\" :value=\"i\" :data-num=\"index+1\">\r\n        <div class=\"dot\">\r\n          <span></span>\r\n        </div>\r\n        <span :class=\"['line', isHideLine ? 'hide-line' : '']\"></span>\r\n      </div>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"img-lock\",\r\n  props: {\r\n    status: {\r\n      type: String,\r\n      default() {\r\n        return \"\";\r\n      }\r\n    },\r\n    isHideLine: {\r\n      type: Boolean,\r\n      default() {\r\n        return false;\r\n      }\r\n    },\r\n    values: {\r\n      type: [String, Array],\r\n      validator(val) {\r\n        if (\r\n          typeof val === \"string\" ||\r\n          Object.prototype.toString.call(val) === \"[object Array]\"\r\n        ) {\r\n          if (val.length == 9) return true;\r\n        }\r\n        console.error(\"值必须为字符串或数组且长度为9\");\r\n        return false;\r\n      },\r\n      default() {\r\n        return \"1W.,5M9b/\";\r\n      }\r\n    },\r\n    value: [String, Number]\r\n  },\r\n  data() {\r\n    return {\r\n      isLock: false,\r\n      isDown: false,\r\n      interval: null,\r\n      el: \"\",\r\n      activeNum: 0,\r\n      startX: 0,\r\n      startY: 0,\r\n      rangeId: \"imgpwd\" + parseInt(Math.random() * 10000000)\r\n    };\r\n  },\r\n  methods: {\r\n    handlePc(event) {\r\n      const type = event.type;\r\n      if (type === \"mousedown\") {\r\n        this.isDown = true;\r\n        event.changedTouches = [event];\r\n        this.handleTouch(event);\r\n      } else {\r\n        if (this.isDown === false) return false;\r\n        event.changedTouches = [event];\r\n        if (type === \"mousemove\") {\r\n          this.handleTouch(event);\r\n        } else if (type === \"mouseup\") {\r\n          this.handleTouch(event);\r\n        }\r\n      }\r\n    },\r\n    handleTouch(event) {\r\n      event.preventDefault();\r\n      if (this.isLock) return false;\r\n      let touch = event.changedTouches ? event.changedTouches[0] : event;\r\n      let { startX, startY } = this;\r\n      let $el = null;\r\n      switch (event.type) {\r\n        case \"touchstart\":\r\n        case \"mousedown\":\r\n          $el = this.getPathLi(event.path);\r\n          if ($el) {\r\n            this.activeNum += 1;\r\n            $el.classList.add(\"active\");\r\n            this.el = $el;\r\n            this.startX = touch.pageX;\r\n            this.startY = touch.pageY;\r\n            this.getCenterPosition($el);\r\n            this.activePwd($el);\r\n            this.updateData($el.getAttribute(\"value\"));\r\n          }\r\n          break;\r\n        case \"touchend\":\r\n        case \"mouseup\":\r\n          this.el.children[1].style.height = 0;\r\n          this.isLock = true;\r\n          this.isDown = false;\r\n          this.$emit(\"success\", this.value);\r\n          break;\r\n        case \"touchmove\":\r\n        case \"mousemove\":\r\n          $el = document.elementFromPoint(touch.pageX, touch.pageY)\r\n            ? document.elementFromPoint(touch.pageX, touch.pageY).offsetParent\r\n            : \"\";\r\n          if (!$el) return false;\r\n          let angle = this.getAngle(touch.pageX - startX, touch.pageY - startY);\r\n          let direction = this.getDirection(angle);\r\n          let $line = this.el.children[1];\r\n          let lineHeight = 0;\r\n          switch (direction) {\r\n            case 0:\r\n              // console.log(\"未滑动！\");\r\n              break;\r\n            case 1:\r\n              if (angle > -90) {\r\n                angle = Math.abs(-90 + Math.abs(angle));\r\n              } else {\r\n                angle += 90;\r\n              }\r\n              lineHeight += startY - touch.pageY;\r\n              // console.log(\"向上！\", angle, lineHeight)\r\n              break;\r\n            case 2:\r\n              lineHeight += touch.pageY - startY;\r\n              angle += 90;\r\n              // console.log(\"向下！\", angle, lineHeight)\r\n              break;\r\n            case 3:\r\n              angle += 90;\r\n              lineHeight += startX - touch.pageX;\r\n              // console.log(\"向左！\", angle, lineHeight)\r\n              break;\r\n            case 4:\r\n              lineHeight += touch.pageX - startX;\r\n              angle += 90;\r\n              // console.log(\"向右！\", angle, lineHeight)\r\n              break;\r\n          }\r\n          $line.style.transform = `rotate(${angle}deg)`;\r\n          $line.style.height = `${lineHeight}px`;\r\n          $line.setAttribute(\"data-h\", lineHeight);\r\n          $line.style.top = `-${lineHeight}px`;\r\n          if ($el.className === \"li-wrapper\") {\r\n            this.activeNum += 1;\r\n            this.getCenterPosition($el);\r\n            this.setFinalPosition(this.el, $el);\r\n            this.el = $el;\r\n            this.activePwd($el);\r\n            this.updateData($el.getAttribute(\"value\"));\r\n            $el.classList.add(\"active\");\r\n            if (this.activeNum == this.values.length) {\r\n              this.isLock = true;\r\n              this.$emit(\"success\", this.value + $el.getAttribute(\"value\"));\r\n            }\r\n          }\r\n          break;\r\n      }\r\n    },\r\n    getCenterPosition($el) {\r\n      let difference = $el.clientHeight / 2;\r\n      this.startX = $el.offsetLeft + difference;\r\n      this.startY = $el.offsetTop + difference;\r\n    },\r\n    //获得角度\r\n    getAngle(angx, angy) {\r\n      return (Math.atan2(angy, angx) * 180) / Math.PI;\r\n    },\r\n    //根据起点终点返回方向 1向上 2向下 3向左 4向右 0未滑动\r\n    getDirection(angle) {\r\n      let result = 0;\r\n      if (angle >= -135 && angle <= -45) {\r\n        result = 1;\r\n      } else if (angle > 45 && angle < 135) {\r\n        result = 2;\r\n      } else if (\r\n        (angle >= 135 && angle <= 180) ||\r\n        (angle >= -180 && angle < -135)\r\n      ) {\r\n        result = 3;\r\n      } else if (angle >= -45 && angle <= 45) {\r\n        result = 4;\r\n      }\r\n      return result;\r\n    },\r\n    getPathLi(path = []) {\r\n      for (let i = 0, len = path.length; i < len; i++) {\r\n        if (path[i].id == this.rangeId) break;\r\n        if (path[i].className == \"li-wrapper\") {\r\n          return path[i];\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    setFinalPosition($prevEl, $nextEl) {\r\n      const half = $nextEl.clientWidth / 2,\r\n        pX = $prevEl.offsetLeft + half,\r\n        pY = $prevEl.offsetTop + half,\r\n        nX = $nextEl.offsetLeft + half,\r\n        nY = $nextEl.offsetTop + half,\r\n        pNum = $prevEl.dataset.num,\r\n        nNum = $nextEl.dataset.num,\r\n        absVal = Math.abs(pNum - nNum);\r\n      let lineH = Math.abs(pX - nX),\r\n        angle = 0;\r\n      switch (absVal) {\r\n        case 1:\r\n          if (pY > nY) {\r\n            angle = 65.5;\r\n            lineH = Math.abs(pX - nX) + 25;\r\n          } else if (pX < nX) {\r\n            angle = 90;\r\n          } else if (pY < nY) {\r\n            angle = 247.5;\r\n          } else {\r\n            angle = 270;\r\n          }\r\n          break;\r\n        case 2:\r\n          lineH += 35;\r\n          if (pY > nY) {\r\n            angle = 47;\r\n          } else if ((pX > nX || pX < nX) && pY == nY) {\r\n            angle = pX < nX ? 90 : 270;\r\n            lineH = Math.abs(pX - nX);\r\n          } else {\r\n            angle = 228;\r\n          }\r\n          break;\r\n        case 3:\r\n          lineH = Math.abs(pY - nY);\r\n          if (pY > nY) {\r\n            angle = 0;\r\n          } else {\r\n            angle = 180;\r\n          }\r\n          break;\r\n        case 4:\r\n          lineH += 35;\r\n          if (pY < nY && pX < nX) {\r\n            angle = 135.5;\r\n          } else if (pY < nY && pX > nX) {\r\n            angle = 228;\r\n            lineH = Math.abs(pY - nY) + Math.abs(pX - nX) / 2;\r\n          } else if (pY > nY && pX < nX) {\r\n            angle = 48;\r\n            lineH = Math.abs(pY - nY) + Math.abs(pX - nX) / 2 - 2;\r\n          } else {\r\n            angle = 312;\r\n          }\r\n          break;\r\n        case 5:\r\n          lineH = Math.abs(pY - nY);\r\n          if (pY > nY && pX < nX) {\r\n            angle = 28.5;\r\n            lineH += 34;\r\n          } else if (pY < nY && pX < nX) {\r\n            angle = 112.5;\r\n            lineH = Math.abs(pX - nX) + 35;\r\n          } else if (pY < nY && pX > nX) {\r\n            angle = 208;\r\n            lineH += 35;\r\n          } else if (pY > nY && pX > nX) {\r\n            angle = 294;\r\n            lineH = Math.abs(pX - nX) + 28;\r\n          }\r\n          break;\r\n        case 6:\r\n          lineH = Math.abs(pY - nY);\r\n          if (pY > nY) {\r\n            angle = 0;\r\n          } else {\r\n            angle = 180;\r\n          }\r\n          break;\r\n        case 7:\r\n          lineH = Math.abs(pY - nY) + 35;\r\n          if (pY < nY) {\r\n            angle = 157.5;\r\n          } else {\r\n            angle = 331;\r\n          }\r\n          break;\r\n        case 8:\r\n          lineH = Math.abs(pY - nY) + Math.abs(pX - nX) / 2;\r\n          if (pY < nY) {\r\n            angle = 135;\r\n          } else {\r\n            lineH -= 2;\r\n            angle = 312;\r\n          }\r\n          break;\r\n      }\r\n      let $line = $prevEl.children[1].style;\r\n      $line.transform = `rotate(${angle}deg)`;\r\n      $line.height = `${lineH}px`;\r\n      $line.top = `-${lineH}px`;\r\n    },\r\n    activePwd($el) {\r\n      $el.children[1].style.height = 0 + \"px\";\r\n      $el.children[1].style.top = -0 + \"px\";\r\n    },\r\n    updateData(val) {\r\n      let newval = this.value + val;\r\n      this.$emit(\"input\", newval);\r\n      this.$emit(\"change\", val, newval);\r\n    },\r\n    reset() {\r\n      this.activeNum = 0;\r\n      this.isLock = false;\r\n      this.isDown = false;\r\n      this.$emit(\"input\", '');\r\n      this.$refs.liWrapper.forEach(el => {\r\n        el.children[1].style = '';\r\n        el.children[1].removeAttribute('data-h');\r\n        el.classList.remove(\"active\");\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$activeColor: #3adad3;\r\n$disabledColor: #f54228;\r\nul {\r\n  list-style: none;\r\n  padding-left: 0;\r\n  display: table;\r\n  width: 300px;\r\n  &.disabled {\r\n    li .li-wrapper {\r\n      &.active {\r\n        border-color: $disabledColor;\r\n        .dot span,\r\n        .line {\r\n          background: $disabledColor;\r\n          opacity: 1;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\nli {\r\n  width: 33.33%;\r\n  float: left;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  user-select: none;\r\n  $val: 70px;\r\n  &:nth-last-child(-n + 3) {\r\n    margin-bottom: 0;\r\n  }\r\n  &:nth-last-child(3n + 1) {\r\n    margin-right: 0;\r\n  }\r\n  .li-wrapper {\r\n    width: $val;\r\n    height: $val;\r\n    border: 2px solid #ccc;\r\n    box-sizing: border-box;\r\n    text-align: center;\r\n    border-radius: 50%;\r\n    line-height: $val;\r\n    position: relative;\r\n    z-index: 1;\r\n    transition: border-color 0.4s;\r\n    background: #fff;\r\n    margin: 0 auto;\r\n    &.active {\r\n      border-color: $activeColor;\r\n      .dot span,\r\n      .line:not(.hide-line) {\r\n        opacity: 1;\r\n      }\r\n    }\r\n    .line {\r\n      display: block;\r\n      width: 10px;\r\n      height: 0;\r\n      left: 0;\r\n      right: 0;\r\n      top: 0;\r\n      bottom: 0;\r\n      opacity: 0;\r\n      margin: auto;\r\n      background: $activeColor;\r\n      position: absolute;\r\n      transform: rotate(0deg);\r\n      // z-index: 99;\r\n      transform-origin: bottom center;\r\n    }\r\n    .dot {\r\n      width: 100%;\r\n      height: 100%;\r\n      border-radius: 50%;\r\n      position: absolute;\r\n      z-index: 99;\r\n      left: 0;\r\n      top: 0;\r\n      background: #fff;\r\n      span {\r\n        display: block;\r\n        opacity: 0;\r\n        transition: opacity 0.4s;\r\n        width: 30%;\r\n        height: 30%;\r\n        margin: auto;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        border-radius: 50%;\r\n        background: $activeColor;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/imgPwd/components/imgLock/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{class:['img-pwd', _vm.status=='disabled'?'disabled':''],attrs:{\"id\":_vm.rangeId}},_vm._l((_vm.values),function(i,index){return _c('li',{key:i,attrs:{\"value\":i},on:{\"mousedown\":function($event){_vm.handlePc($event)},\"mousemove\":function($event){_vm.handlePc($event)},\"mouseup\":function($event){_vm.handlePc($event)},\"touchstart\":function($event){_vm.handleTouch($event)},\"touchend\":function($event){_vm.handleTouch($event)},\"touchmove\":function($event){_vm.handleTouch($event)}}},[_c('div',{ref:\"liWrapper\",refInFor:true,staticClass:\"li-wrapper\",attrs:{\"value\":i,\"data-num\":index+1}},[_vm._m(0,true),_vm._v(\" \"),_c('span',{class:['line', _vm.isHideLine ? 'hide-line' : '']})])])}))}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dot\"},[_c('span')])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25b6eece\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/imgPwd/components/imgLock/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25b6eece\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"C:\\\\\\\\Users\\\\\\\\Administrator\\\\\\\\Desktop\\\\\\\\vue-project\\\\\\\\src\\\\\\\\assets\\\\\\\\scss\\\\\\\\variable.scss\\\",\\\"C:\\\\\\\\Users\\\\\\\\Administrator\\\\\\\\Desktop\\\\\\\\vue-project\\\\\\\\src\\\\\\\\assets\\\\\\\\scss\\\\\\\\common.scss\\\"]}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25b6eece\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-25b6eece\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/imgPwd/components/imgLock/Index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"img-lock\">\r\n    <el-col class=\"item\">\r\n      <el-card class=\"box-card\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span>图案解锁</span>\r\n          <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"reset($refs.imgpwd1)\">重置</el-button>\r\n        </div>\r\n        <img-pwd\r\n          class=\"img-pwd\"\r\n          v-model=\"pwdValue1\"\r\n          values=\"123456789\"\r\n          @change=\"handleChange\"\r\n          @success=\"handleSuccess\"\r\n          :status=\"status\"\r\n          ref=\"imgpwd1\"\r\n        />\r\n        <p class=\"text\">\r\n          当前密码: {{pwdValue1}}\r\n        </p>\r\n        <p class=\"text\">\r\n          密码选项: 123456789\r\n        </p>\r\n      </el-card>\r\n    </el-col>\r\n    <el-col class=\"item\">\r\n      <el-card class=\"box-card\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span>图案解锁(隐藏连接线)</span>\r\n          <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"reset($refs.imgpwd2)\">重置</el-button>\r\n        </div>\r\n        <img-pwd\r\n          class=\"img-pwd\"\r\n          v-model=\"pwdValue2\"\r\n          values=\"qwe123zxc\"\r\n          @change=\"handleChange\"\r\n          @success=\"handleSuccess\"\r\n          :status=\"status\"\r\n          :isHideLine=\"true\"\r\n          ref=\"imgpwd2\"\r\n        />\r\n        <p class=\"text\">\r\n          当前密码: {{pwdValue2}}\r\n        </p>\r\n        <p class=\"text\">\r\n          密码选项: qwe123zxc\r\n        </p>\r\n      </el-card>\r\n    </el-col>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport imgPwd from \"./components/imgLock/Index\";\r\nexport default {\r\n  name: \"img-pwd-lock\",\r\n  data() {\r\n    return {\r\n      pwdValue1: \"\",\r\n      pwdValue2: \"\",\r\n      status: ''\r\n    };\r\n  },\r\n  methods: {\r\n    reset($ref) {\r\n      this.status = \"\";\r\n      $ref.reset();\r\n    },\r\n    handleChange(val, newVal) {\r\n      // console.log(`当前值：${val}  最终值：${newVal}`);\r\n    },\r\n    handleSuccess(val) {\r\n      // console.log(\"输入完成,密码: \" + val);\r\n      // this.status = 'disabled'\r\n    }\r\n  },\r\n  components: {\r\n    imgPwd\r\n  }\r\n};\r\n</script>\r\n<style>\r\n  .img-lock .el-card__body{\r\n    padding: 20px 0;\r\n  }\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n.img-lock{\r\n  display: flex;\r\n  justify-content: space-around;\r\n  @media screen and (max-width: 1200px) {\r\n    display: block;\r\n  }\r\n}\r\n.img-pwd {\r\n  margin: 0 auto;\r\n}\r\n.item {\r\n  width: 600px;\r\n  margin-bottom: 20px;\r\n  @media screen and (max-width: 1200px) {\r\n    width: 100%;\r\n  }\r\n  .text{\r\n    text-align: center;\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/imgPwd/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"img-lock\"},[_c('el-col',{staticClass:\"item\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"图案解锁\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.reset(_vm.$refs.imgpwd1)}}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('img-pwd',{ref:\"imgpwd1\",staticClass:\"img-pwd\",attrs:{\"values\":\"123456789\",\"status\":_vm.status},on:{\"change\":_vm.handleChange,\"success\":_vm.handleSuccess},model:{value:(_vm.pwdValue1),callback:function ($$v) {_vm.pwdValue1=$$v},expression:\"pwdValue1\"}}),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(\"\\n        当前密码: \"+_vm._s(_vm.pwdValue1)+\"\\n      \")]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(\"\\n        密码选项: 123456789\\n      \")])],1)],1),_vm._v(\" \"),_c('el-col',{staticClass:\"item\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"图案解锁(隐藏连接线)\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.reset(_vm.$refs.imgpwd2)}}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('img-pwd',{ref:\"imgpwd2\",staticClass:\"img-pwd\",attrs:{\"values\":\"qwe123zxc\",\"status\":_vm.status,\"isHideLine\":true},on:{\"change\":_vm.handleChange,\"success\":_vm.handleSuccess},model:{value:(_vm.pwdValue2),callback:function ($$v) {_vm.pwdValue2=$$v},expression:\"pwdValue2\"}}),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(\"\\n        当前密码: \"+_vm._s(_vm.pwdValue2)+\"\\n      \")]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(\"\\n        密码选项: qwe123zxc\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57feb96c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/imgPwd/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-57feb96c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-57feb96c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"C:\\\\\\\\Users\\\\\\\\Administrator\\\\\\\\Desktop\\\\\\\\vue-project\\\\\\\\src\\\\\\\\assets\\\\\\\\scss\\\\\\\\variable.scss\\\",\\\"C:\\\\\\\\Users\\\\\\\\Administrator\\\\\\\\Desktop\\\\\\\\vue-project\\\\\\\\src\\\\\\\\assets\\\\\\\\scss\\\\\\\\common.scss\\\"]}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57feb96c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-57feb96c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/imgPwd/Index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}